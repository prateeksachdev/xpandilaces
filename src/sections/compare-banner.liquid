<section class="section compare-banner">
  <div class="container">
   <h1>{{ section.settings.title }}</h1>

    {% if section.blocks.size > 0 %}
      <div class="columns">
        {% for block in section.blocks %}
          <div class="column">
            <a href="{{ block.settings.link }}">
              <img data-src="{{ block.settings.image | img_url: 'master' }}"
                 alt="{% if block.settings.image.alt != blank %}{{ block.settings.image.alt | escape }}{% else %}{{ block.settings.title | escape }}{% endif %}"
                 class="lazyload {{ settings.image_loading_style }}" />
            </a>
            <a href="{{ block.settings.link }}">
              <h2>{{ block.settings.title }}</h2>
            </a>
            {% if block.settings.button_text != blank %}
              <a href="{{ block.settings.link }}" class="button">
                {{ block.settings.button_text }}
              </a>
            {% endif %}
          </div>
        {% endfor %}
      </div>
    {% endif %}
  </div>
</section>

{% schema %}
  {
    "name": "Compare Banner",
    "settings": [
      {
        "type": "text",
        "id": "title",
        "label": "Title"
      }
    ],
    "max_blocks": 8,
    "blocks": [
      {
        "type": "item",
        "name": "Item",
        "settings": [
          {
            "type": "image_picker",
            "id": "image",
            "label": "Image"
          },
          {
            "type": "text",
            "id": "title",
            "label": "Title",
            "default": "Your title"
          },
          {
            "type": "text",
            "id": "button_text",
            "label": "Button Text",
            "default": "Shop Now"
          },
          {
            "type": "url",
            "id": "link",
            "label": "Link"
          }
        ]
      }
    ]
  }
{% endschema %}